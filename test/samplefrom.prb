
def Nice(y){
    x := SampleFrom("(x;y) => [-y<=x]*[x<=y]*x^2",y);
    return x;
}

def main(){
    x := Nice(3);
    y := Nice(4);
    return x+y; // expected: ((-9·r₁+-r₁³·⅟3+3·r₁²+9)·[-1+-r₁≠0]·[-1+-r₁≤0]·r₁²+(3·r₁²+9+9·r₁+r₁³·⅟3)·[-1+r₁≠0]·[-1+r₁≤0]·r₁²+-128·[-r₁+1≤0]·r₁+-3·[-1+-r₁≠0]·[-1+-r₁≤0]·r₁⁴+-3·[-1+r₁≠0]·[-1+r₁≤0]·r₁⁴+-3·[-1+r₁≠0]·[-1+r₁≤0]·r₁⁵·⅟10+-81·[-1+-r₁≠0]·[-1+-r₁≤0]·r₁·⅟2+-9·[-1+r₁≠0]·[-1+r₁≤0]·r₁³+1024·[-r₁+1≤0]·⅟5+1024·[1+r₁≤0]·⅟5+128·[1+r₁≤0]·r₁+243·[-1+-r₁≠0]·[-1+-r₁≤0]·⅟5+243·[-1+r₁≠0]·[-1+r₁≤0]·⅟5+3·[-1+-r₁≠0]·[-1+-r₁≤0]·r₁⁵·⅟10+64·[-r₁+1≤0]·r₁²·⅟3+64·[1+r₁≤0]·r₁²·⅟3+81·[-1+r₁≠0]·[-1+r₁≤0]·r₁·⅟2+9·[-1+-r₁≠0]·[-1+-r₁≤0]·r₁³)·([-1+-r₁≠0]·[-1+-r₁≤0]·[-1+r₁≠0]·[-1+r₁≤0]·⅟768+[-1+-r₁≠0]·[-7+r₁≤0]·[-r₁+1≤0]·⅟768+[-1+r₁≠0]·[-7+-r₁≤0]·[1+r₁≤0]·⅟768)
}
